<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home - CueProjections</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="main-container">
    <h1>Welcome to CueProjections</h1>
    <div id="showList"></div>
  </div>

  <script>
    const user = localStorage.getItem('username');
    if (!user || user === 'admin') {
      window.location.href = 'index.html';
    }

    // Every user gets RigCheck by default
    const predefinedAssignments = {
      'customer1': ['RigCheck', 'Trashion'],
      'customer2': ['RigCheck'],
      'customer3': ['RigCheck'],
      'customer4': ['RigCheck'],
      'customer5': ['RigCheck']
    };

    const shows = predefinedAssignments[user] || ['RigCheck'];

    const showListDiv = document.getElementById('showList');
    shows.forEach(show => {
      const div = document.createElement('div');
      div.innerHTML = `
        <h3>${show}</h3>
        <button onclick="startShow('${show}')">Start Show</button>
        <hr>
      `;
      showListDiv.appendChild(div);
    });

    function startShow(showName) {
      localStorage.setItem('currentShow', showName);
      localStorage.setItem('currentCue', '0');
      window.open('viewer.html', 'viewerWindow');
      window.location.href = 'projections.html';
    }
  </script>
</body>
</html>

