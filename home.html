<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Home - CueProjections</title>
  <link rel="stylesheet" href="css/style.css" />
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const user = localStorage.getItem("loggedInUser");
      if (!user) {
        window.location.href = "index.html";
        return;
      }

      const showsByUser = {
        admin: ["RigCheck", "Trashion"],
        customer1: ["RigCheck"],
        customer2: ["RigCheck"],
        customer3: ["RigCheck"],
        customer4: ["RigCheck"],
        customer5: ["RigCheck"],
      };

      const shows = showsByUser[user] || [];
      const container = document.getElementById("shows");

      if (shows.length === 0) {
        container.innerHTML = "<p>No shows assigned.</p>";
        return;
      }

      shows.forEach(show => {
        const div = document.createElement("div");
        div.className = "show-card";
        div.innerHTML = `
          <h3>${show}</h3>
          <button onclick="startShow('${show}')">Start Show</button>
        `;
        container.appendChild(div);
      });
    });

    function startShow(showName) {
      localStorage.setItem("currentShow", showName);
      window.open("viewer.html", "_blank");
      window.location.href = "projections.html";
    }
  </script>
</head>
<body>
  <header>
    <h1>Welcome to CueProjections</h1>
  </header>
  <main>
    <section id="shows" class="show-container">
      <!-- Shows will populate here -->
    </section>
  </main>
</body>
</html>
